var komli_base="http://track.pubmatic.com/AdServer";var komliad_pubmatic_url="http://www.pubmatic.com/publisherreferral.html";var ktrack_init=new function(){if(typeof window.komliad_init_done=="undefined"){window.komliad_init_done=0}};function komliClick(){var c=komli_base+"/AdDisplayTrackerServlet?";var d="";if(typeof event.srcElement.name!="undefined"){d=event.srcElement.name}else{d="NOID"}c=c+"frameName="+d;var b=document.createElement("img");b.setAttribute("height",0);b.setAttribute("width",0);b.setAttribute("hspace","0");b.setAttribute("vspace","0");b.setAttribute("src",c);var a=document.getElementsByTagName("body")[0];a.appendChild(b);m_pse(900)}if(typeof window.addEventListener!="undefined"){window.addEventListener("load",clicktrack_init,false)}else{if(typeof document.addEventListener!="undefined"){document.addEventListener("load",clicktrack_init,false)}else{if(typeof window.attachEvent!="undefined"){window.attachEvent("onload",clicktrack_init)}else{if(typeof window.onload=="function"){var existing=onload;window.onload=function(){existing();clicktrack_init()}}else{window.onload=clicktrack_init}}}}function clicktrack_init(){if(document.all){var b=document.getElementsByTagName("iframe");for(var a=0;a<b.length;a++){if(b[a].src.indexOf("komli_ads_frame")>-1){b[a].onfocus=komliClick}}}else{window.addEventListener("beforeunload",doPageExit,false);window.addEventListener("mousemove",getMouse,true)}BrowserInfo.init();if(BrowserInfo.name!="Camino"){addPubMaticNoteToAllAds()}}var px;var py;function getMouse(a){px=a.pageX;py=a.pageY}function findY(a){var b=0;while(a){b+=a.offsetTop;a=a.offsetParent}return(b)}function findX(b){var a=0;while(b){a+=b.offsetLeft;b=b.offsetParent}return(a)}function doPageExit(d){ad=document.getElementsByTagName("iframe");for(i=0;i<ad.length;i++){var h=findX(ad[i]);var a=findY(ad[i]);var j=((px>(h-10))&&(px<(parseInt(h)+parseInt(ad[i].width)+15)));var g=((py>(a-10))&&(py<(parseInt(a)+parseInt(ad[i].height)+10)));if(g&&j){var f=komli_base+"/AdClickTrackerServlet?operId=5&";var c="AAA";if(typeof ad[i].name!="undefined"){i;if(ad[i].name.indexOf("komli_ads_frame")>-1){if(typeof ad[i].name!="undefined"){c=ad[i].name}f=f+"frameName="+c}}var b=document.createElement("img");b.setAttribute("height",0);b.setAttribute("width",0);b.setAttribute("src",f);b.setAttribute("hspace","0");b.setAttribute("vspace","0");var k=document.getElementsByTagName("body")[0];k.appendChild(b);m_pse(900)}}}function m_pse(b){var a=new Date();var c=a.getTime()+b;while(true){a=new Date();if(a.getTime()>c){return}}}function addPubMaticNoteToAllAds(){var c=document.getElementsByTagName("iframe");for(var b=0;b<c.length;b++){if(c[b].name!="undefined"&&(c[b].name.indexOf("beacon")>-1)){continue}else{if(c[b].src.indexOf("komli_ads_frame")>-1){var a=SourceStrParam(c[b].src,"pubId");if(!isIgnored(a)){addPubMaticNote(c[b],c[b].height,c[b].width,a)}}}}}function addPubMaticNote(g,f,b,e){var d=findX(g);var a=findY(g);var h=parseInt(d)+parseInt(g.width);var c=parseInt(a)+parseInt(g.height);pubmatic_showtip(h-100,c-1,e)}function trackNote(d){var c=Math.random();var b=komliad_base+"/AdDisplayTrackerServlet?operId=2&activityId=1&activityParam="+d+"&opString="+c;var a=document.createElement("iframe");a.setAttribute("id","pmsgbeacon");a.setAttribute("height","0");a.setAttribute("width","0");a.setAttribute("frameborder","0");a.setAttribute("marginheight","0");a.setAttribute("marginwidth","0");a.setAttribute("hspace","0");a.setAttribute("vspace","0");a.setAttribute("allowtransparency","true");a.setAttribute("scrolling","no");a.setAttribute("src",b);document.body.appendChild(a)}function pubmatic_showtip(b,f,d){var a="    Optimized by PubMatic";var e=document.createElement("div");var c="pubmaticMessageDiv";e.setAttribute("id",c);e.innerHTML='<a href="'+komliad_pubmatic_url+'" style="font-weight: normal; text-decoration: underline; font-family: Arial, Helvetica, sans-serif; font-size:9px" onclick="javascript:trackNote('+d+')">'+a+"</a>";e.style.top=f+"px";e.style.left=b+"px";e.style.display="block";e.style.zIndex=0;e.style.position="absolute";e.style.height="5px";e.style.margin="0px 0px 0px 0px";e.style.width="120px";document.body.appendChild(e)}function ObjectSourceStr(b){if(b.length>1){this.q=b.substring(1,b.length)}else{this.q=null}this.keyValuePairs=new Array();if(b){for(var a=0;a<this.q.split("&").length;a++){this.keyValuePairs[a]=this.q.split("&")[a]}}this.getKeyValuePairs=function(){return this.keyValuePairs};this.getValue=function(d){for(var c=0;c<this.keyValuePairs.length;c++){if(this.keyValuePairs[c].split("=")[0]==d){return this.keyValuePairs[c].split("=")[1]}}return false};this.getParameters=function(){var c=new Array(this.getLength());for(var d=0;d<this.keyValuePairs.length;d++){c[d]=this.keyValuePairs[d].split("=")[0]}return c};this.getLength=function(){return this.keyValuePairs.length}}function SourceStrParam(b,a){var c=new ObjectSourceStr(b);return unescape(c.getValue(a))}function isIgnored(c){var b=msg_ignore_list.length;for(var a=0;a<b;a++){if(c==msg_ignore_list[a]){return true}}return false}var BrowserInfo={init:function(){this.name=this.getBrName()||"UnKnown"},getBrName:function(){for(var a=0;a<this.browserData.length;a++){var b=this.browserData[a].string;var c=this.browserData[a].prop;if(b){if(b.indexOf(this.browserData[a].serSubStr)!=-1){return this.browserData[a].identity}}else{if(c){return this.browserData[a].identity}}}},browserData:[{string:navigator.userAgent,serSubStr:"OmniWeb",identity:"OmniWeb"},{string:navigator.vendor,serSubStr:"Apple",identity:"Safari"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,serSubStr:"iCab",identity:"iCab"},{string:navigator.vendor,serSubStr:"KDE",identity:"Konqueror"},{string:navigator.userAgent,serSubStr:"Firefox",identity:"Firefox"},{string:navigator.vendor,serSubStr:"Camino",identity:"Camino"},{string:navigator.userAgent,serSubStr:"Netscape",identity:"Netscape"},{string:navigator.userAgent,serSubStr:"MSIE",identity:"Explorer"},{string:navigator.userAgent,serSubStr:"Gecko",identity:"Mozilla"},{string:navigator.userAgent,serSubStr:"Mozilla",identity:"Netscape"}]};var msg_ignore_list=[0,3144,4773,5016,5159,5296,5302,533,5669,3324,5987,5785,4891,6917,1508,6883,5568,6846,6539,7580,7312,8257,7372,5211,6508,3820,8992,10267,9938,9011,1765,11204,10777,12106,8855,8984,8597,14878,15023,13071,15685,15900,11491,8717,13082,17790,9549,17452,5354,17410,16437,19953,21864,16237,22120,8654,8682,22933,19451,23583,10937,14358,5949,24668,24461,23202,25818,25486];